<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Catalyst Experience - Dashboard V7.1</title>
    
    <!-- Fontes e Ícones -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* =========================================
           TOKENS DE DESIGN
           ========================================= */
        :root {
            --bg-dark: #050f16;
            --bg-card: #0b1d2a;
            --accent: #00ff88; /* Verde Neon Catalyst */
            --accent-dim: rgba(0, 255, 136, 0.1);
            --text-main: #ffffff;
            --text-muted: #94a3b8;
            --alert-red: #ff4757; /* Vermelho específico para estouro de budget */
            --border: rgba(255, 255, 255, 0.08);
            --font-main: 'Poppins', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: var(--font-main);
            padding-bottom: 40px;
        }

        /* Layout */
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; display: flex; flex-direction: column; min-height: 100vh;}
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 40px;
        }

        .brand h1 { font-size: 1.5rem; letter-spacing: 1px; }
        .brand span { color: var(--accent); }

        /* Cards e Grids */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--accent);
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        /* Tabelas Dinâmicas */
        table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
        
        th { text-align: left; color: var(--text-muted); padding-bottom: 10px; font-weight: 400; font-size: 0.85rem; }
        td { padding: 12px 0; border-bottom: 1px solid var(--border); }
        tr:last-child td { border-bottom: none; }
        
        .money { 
            font-family: var(--font-mono); 
            text-align: right; 
            color: var(--text-main);
        }

        .row-total td {
            font-weight: 700;
            color: var(--accent);
            padding-top: 20px;
            font-size: 1.1rem;
        }

        /* Painel de KPI (Stop Loss) */
        .kpi-panel {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 255, 136, 0.05) 100%);
            text-align: center;
            border: 1px solid var(--accent);
        }

        .big-number {
            font-family: var(--font-mono);
            font-size: 2.5rem;
            font-weight: 700;
            margin: 10px 0;
        }

        /* Classes utilitárias para cor vermelha solicitada */
        .text-alert { color: var(--alert-red) !important; }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        /* Estilos específicos dos badges */
        .badge-alert { 
            background: rgba(255, 71, 87, 0.1); 
            color: var(--alert-red); 
            border: 1px solid var(--alert-red); 
        }
        
        .badge-ok { 
            background: rgba(0, 255, 136, 0.1); 
            color: var(--accent); 
            border: 1px solid var(--accent);
        }

        /* Timeline */
        .timeline-container {
            position: relative;
            padding-left: 30px;
            border-left: 2px solid var(--border);
        }

        .timeline-item {
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -36px;
            top: 5px;
            width: 10px;
            height: 10px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--accent);
        }

        .timeline-date {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 5px;
        }

        /* Team Grid */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .team-member {
            background: rgba(255,255,255,0.03);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid transparent;
            transition: 0.3s;
        }

        .team-member:hover { border-color: var(--accent); }
        .role { font-size: 0.8rem; color: var(--text-muted); display: block; margin-top: 4px; }

        /* Footer */
        footer {
            margin-top: auto;
            border-top: 1px solid var(--border);
            padding-top: 20px;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.75rem;
            opacity: 0.7;
        }

    </style>
</head>
<body>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="brand">
                <h1>THE CATALYST <span>EXPERIENCE</span></h1>
                <p style="font-size: 0.8rem; color: var(--text-muted);">MANUAL OPERACIONAL V7.1 | LIVE CONSULTORIA</p>
            </div>
        </header>

        <!-- KPI Principal -->
        <div class="card kpi-panel" style="margin-bottom: 40px;">
            <h3>BUDGET ATUAL (FORECAST)</h3>
            <!-- ID total-geral será manipulado pelo JS para ficar vermelho se estourar -->
            <div class="big-number" id="total-geral">R$ 0,00</div>
            <p id="status-msg">Calculando...</p>
            <div style="margin-top: 15px; height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden;">
                <div id="progress-bar" style="width: 0%; height: 100%; background: var(--accent); transition: width 1s;"></div>
            </div>
            <p style="font-size: 0.8rem; margin-top: 8px; color: var(--text-muted);">Stop Loss Definido: <span class="money">R$ 500.000,00</span></p>
        </div>

        <div class="grid">
            <!-- Tabela Custos Fixos -->
            <div class="card">
                <h3><i class="fas fa-building"></i> Custos Fixos (Jan-Maio)</h3>
                <table id="table-fixed">
                    <!-- Renderizado via JS -->
                </table>
            </div>

            <!-- Tabela Investimentos -->
            <div class="card">
                <h3><i class="fas fa-rocket"></i> Investimentos do Projeto</h3>
                <table id="table-invest">
                    <!-- Renderizado via JS -->
                </table>
            </div>
        </div>

        <div class="grid">
            <!-- Timeline -->
            <div class="card">
                <h3><i class="fas fa-stream"></i> Timeline Reversa</h3>
                <div class="timeline-container" id="timeline-list">
                    <!-- Renderizado via JS -->
                </div>
            </div>

            <!-- Equipe -->
            <div class="card">
                <h3><i class="fas fa-users"></i> Esquadrão Tático</h3>
                <div class="team-grid" id="team-list">
                    <!-- Renderizado via JS -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p>Marca registrada, documento confidencial de uso interno - desenvolvido com tecnologia AgeQuodAgis</p>
        </footer>
    </div>

    <!-- LÓGICA DO DASHBOARD (AI FRIENDLY) -->
    <script>
        /* =================================================================
           AREA DE EDIÇÃO DA IA (CONFIGURAÇÃO DE DADOS)
           =================================================================
        */

        const CONFIG_PROJETO = {
            stopLoss: 500000, // Teto máximo do budget
            mesesDuracao: 5   // Jan a Maio
        };

        // 1. CUSTOS FIXOS (Recorrentes Mensais)
        const CUSTOS_FIXOS = [
            { item: "Pró-Labore (Ibrahim + Luiz)", mensal: 15000, obs: "R$ 7.5k cada" },
            { item: "Comercial (4 SDRs)", mensal: 7200, obs: "Fixo + Comissão Var" },
            { item: "Conteúdo (Nik/Wendell)", mensal: 7000, obs: "Redes Sociais" },
            { item: "João (Full Time)", mensal: 4000, obs: "Gerente Projetos" }, // ATUALIZADO
            { item: "Cleber (70% Dedicação)", mensal: 4500, obs: "Comercial/Ops" },
            { item: "Aluguel Escritório", mensal: 4000, obs: "Pacote Fechado" },
            { item: "Ana (Facilities 20%)", mensal: 2000, obs: "Fin/Admin" },
            { item: "Contabilidade", mensal: 1800, obs: "Mensalidade" }, 
            { item: "Sofia (Aprendiz)", mensal: 750, obs: "Suporte/Prevenção de haters" } // ATUALIZADO
        ];

        // 2. INVESTIMENTOS (Pontuais / One-off)
        const INVESTIMENTOS = [
            { item: "Tráfego Pago + Agência", valor: 70000, cat: "MKT" },
            { item: "Host (Apresentador)", valor: 50000, cat: "TALENTOS" }, 
            { item: "Conteúdo/Edição (Pacote)", valor: 42000, cat: "MKT" },
            { item: "Palestrantes (Cachê)", valor: 25000, cat: "TALENTOS" },
            { item: "Cenografia & Palco", valor: 20000, cat: "EVENTO" },
            { item: "A&B (Drink + Coffee)", valor: 20000, cat: "EVENTO" },
            { item: "Assessoria (Carol)", valor: 10000, cat: "MKT" },
            { item: "Locação WTC", valor: 10000, cat: "EVENTO" },
            { item: "Gravação Curso", valor: 7000, cat: "PRODUTO" },
            { item: "Branding (Fábio)", valor: 4800, cat: "MKT" },
            { item: "Go Sites (Portal)", valor: 3000, cat: "TECH" },
            { item: "INPI (Ramon)", valor: 2000, cat: "LEGAL" }
        ];

        // 3. TIMELINE (Datas Chave)
        const TIMELINE = [
            { data: "JANEIRO (Agora)", acao: "Assinatura WTC & Contratação Time", status: "done" },
            { data: "FEVEREIRO (T-90)", acao: "Gravação Curso & Início Tráfego Pesado", status: "pending" },
            { data: "MARÇO (T-60)", acao: "Pagamento 50% Host & Pré-Venda Mentoria", status: "pending" },
            { data: "ABRIL (T-30)", acao: "Virada de Lote & Logística Aérea", status: "pending" },
            { data: "MAIO (Dia D)", acao: "THE CATALYST EXPERIENCE", status: "highlight" }
        ];

        // 4. EQUIPE (Briefing Rápido)
        const EQUIPE = [
            { nome: "Ibrahim Boufleur", role: "Visionário & O Produto" },
            { nome: "Luiz Portal", role: "Liderança & Networking" },
            { nome: "Bruno Lesche", role: "Head de Marketing & Tráfego" },
            { nome: "Cléber", role: "Analista de estratégia e Inteligência" },
            { nome: "Ana", role: "Facilities & Financeiro" },
            { nome: "João", role: "Gerente de Projetos" }
        ];

        /* =================================================================
           FIM DA CONFIGURAÇÃO
           =================================================================
        */

        const formatMoney = (value) => {
            return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        };

        function renderFixed() {
            const table = document.getElementById('table-fixed');
            let totalMensal = 0;
            let html = `<thead><tr><th>Item</th><th style="text-align:right">Mensal</th><th style="text-align:right">Total (${CONFIG_PROJETO.mesesDuracao}m)</th></tr></thead><tbody>`;

            CUSTOS_FIXOS.forEach(cost => {
                const totalLine = cost.mensal * CONFIG_PROJETO.mesesDuracao;
                totalMensal += totalLine;
                html += `
                    <tr>
                        <td>
                            <strong style="color:white">${cost.item}</strong><br>
                            <span style="font-size:0.75rem">${cost.obs}</span>
                        </td>
                        <td class="money">${formatMoney(cost.mensal)}</td>
                        <td class="money">${formatMoney(totalLine)}</td>
                    </tr>
                `;
            });

            html += `
                <tr class="row-total">
                    <td>SUBTOTAL FIXO</td>
                    <td></td>
                    <td class="money">${formatMoney(totalMensal)}</td>
                </tr>
            </tbody>`;
            
            table.innerHTML = html;
            return totalMensal;
        }

        function renderInvestments() {
            const table = document.getElementById('table-invest');
            let totalInv = 0;
            let html = `<thead><tr><th>Categoria</th><th>Item</th><th style="text-align:right">Valor</th></tr></thead><tbody>`;

            INVESTIMENTOS.forEach(inv => {
                totalInv += inv.valor;
                let catColor = "#94a3b8";
                if(inv.cat === "TALENTOS") catColor = "#ffa502";
                if(inv.cat === "EVENTO") catColor = "#00ff88";

                html += `
                    <tr>
                        <td><span style="font-size:0.7rem; padding:2px 6px; border:1px solid ${catColor}; color:${catColor}; border-radius:4px">${inv.cat}</span></td>
                        <td><strong style="color:white">${inv.item}</strong></td>
                        <td class="money">${formatMoney(inv.valor)}</td>
                    </tr>
                `;
            });

            html += `
                <tr class="row-total">
                    <td>SUBTOTAL PROJETO</td>
                    <td></td>
                    <td class="money">${formatMoney(totalInv)}</td>
                </tr>
            </tbody>`;

            table.innerHTML = html;
            return totalInv;
        }

        function renderTimeline() {
            const container = document.getElementById('timeline-list');
            let html = '';
            TIMELINE.forEach(t => {
                const color = t.status === 'highlight' ? 'var(--accent)' : 'var(--text-main)';
                html += `
                    <div class="timeline-item">
                        <div class="timeline-date">${t.data}</div>
                        <div style="color: ${color}; font-weight: ${t.status === 'highlight' ? '700' : '400'}">
                            ${t.acao}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function renderTeam() {
            const container = document.getElementById('team-list');
            let html = '';
            EQUIPE.forEach(member => {
                html += `
                    <div class="team-member">
                        <strong style="color: var(--accent)">${member.nome}</strong>
                        <span class="role">${member.role}</span>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const totalFixo = renderFixed();
            const totalInv = renderInvestments();
            renderTimeline();
            renderTeam();

            const totalGeral = totalFixo + totalInv;
            const stopLoss = CONFIG_PROJETO.stopLoss;
            const percentage = (totalGeral / stopLoss) * 100;

            // Elementos
            const elTotalGeral = document.getElementById('total-geral');
            const elStatusMsg = document.getElementById('status-msg');
            const elProgressBar = document.getElementById('progress-bar');
            
            // Atualizar Valor Total
            elTotalGeral.innerText = formatMoney(totalGeral);
            
            // Barra de progresso (limita a 100% visualmente para não quebrar layout)
            elProgressBar.style.width = `${Math.min(percentage, 100)}%`;

            // Lógica de Cores e Texto
            if (totalGeral > stopLoss) {
                // Se estourou: Texto do valor em vermelho
                elTotalGeral.classList.add('text-alert');
                elProgressBar.style.background = 'var(--alert-red)'; // Barra vermelha também
                
                // Badge Vermelho + Texto "Presumido"
                elStatusMsg.innerHTML = `<span class="status-badge badge-alert">BUDGET MONITORADO: ${percentage.toFixed(1)}% PRESUMIDO</span>`;
            } else {
                // Se ok: Padrão Verde
                elStatusMsg.innerHTML = `<span class="status-badge badge-ok">DENTRO DA META: ${percentage.toFixed(1)}% PRESUMIDO</span>`;
            }
        });

    </script>
</body>
</html>
